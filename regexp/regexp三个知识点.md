# æ­£åˆ™è¡¨è¾¾å¼

åŒ¹é…æ¨¡å¼ï¼Œè¦ä¹ˆåŒ¹é…å­—ç¬¦ï¼Œè¦ä¹ˆåŒ¹é…ä½ç½®

## ä½ç½®

æ­£åˆ™ä¸­å¸¸ç”¨æ¥è¡¨ç¤ºä½ç½®çš„ç¬¦å·ä¸»è¦æœ‰ï¼š`^`ã€`$`ã€`\b`ã€`\B`ã€`?=p`ã€`(?!p)`ã€`(?<=p)`ã€`(?<!p)`

- `^`: è„±å­—ç¬¦ï¼ŒåŒ¹é…è¡Œçš„å¼€å¤´

```js
let string = "hello";
console.log(string.replace(/^/, "ğŸ˜„")); // ğŸ˜„hello
```

- `$`: ç¾å…ƒç¬¦å·ï¼ŒåŒ¹é…è¡Œçš„ç»“å°¾

```js
let string = "hello";
console.log(string.replace(/$/, "ğŸ˜„")); // helloğŸ˜„
```

- `\b`: å•è¯çš„è¾¹ç•Œï¼Œå…·ä½“è®²æœ‰ä¸‰ç‚¹è§„åˆ™
  - `\w`å’Œ`\W`ä¹‹é—´çš„ä½ç½®
  - `^`ä¸`\w`ä¹‹é—´çš„ä½ç½®
  - `\w`ä¸`$`ä¹‹é—´çš„ä½ç½®

```js
"xxx_love_study_1.mp4".replace(/\b/g, "â¤ï¸"); // â¤ï¸xxx_love_study_1â¤ï¸.â¤ï¸mp4â¤ï¸
```

ç”»å›¾ç†è§£
![](../assets/image/regexp1.webp)

- `\B`: éå•è¯çš„è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯`\b`åç€æ¥çš„æ„æ€
  - `\w`ä¸`\w`ä¹‹é—´çš„ä½ç½®
  - `\W`ä¸`\W`ä¹‹é—´çš„ä½ç½®
  - `^`ä¸`\W`ä¹‹é—´çš„ä½ç½®
  - `\W`ä¸`$`ä¹‹é—´çš„ä½ç½®

```js
"xxx_love_study_1.mp4".replace(/\B/g, "â¤ï¸");
// 'xâ¤ï¸xâ¤ï¸xâ¤ï¸_â¤ï¸lâ¤ï¸oâ¤ï¸vâ¤ï¸eâ¤ï¸_â¤ï¸sâ¤ï¸tâ¤ï¸uâ¤ï¸dâ¤ï¸yâ¤ï¸_â¤ï¸1.mâ¤ï¸pâ¤ï¸4'
```

ç”»å›¾ç†è§£
![](../assets/image/regexp2.webp)

- `(?=p)`
  > ç¬¦åˆ`p`å­æ¨¡å¼å‰é¢çš„é‚£ä¸ªä½ç½®ã€‚æ¢å¥è¯è¯´æ˜¯ï¼Œæœ‰ä¸€ä¸ªä½ç½®ï¼Œç´§è·Ÿå…¶åéœ€è¦æ»¡è¶³`p`å­æ¨¡å¼ã€‚ä¹Ÿæœ‰ä¸€ä¸ªå­¦åå«**æ­£å‘å…ˆè¡Œæ–­è¨€**ã€‚

```js
"xxx_love_study_1.mp4".replace(/(?=xxx)/g, "â¤ï¸"); // â¤ï¸xxx_love_study_1.mp4
```

ç”»å›¾ç†è§£
![](../assets/image/regexp3.webp)

- `(?!p)`
  > `(?=p)`åè¿‡æ¥çš„æ„æ€ï¼Œå¯ä»¥ç†è§£ä¸º`(?=p)`åŒ¹é…åˆ°çš„ä½ç½®ä¹‹å¤–çš„ä½ç½®éƒ½æ˜¯å±äº`(?!p)`çš„ï¼Œå®ƒä¹Ÿæœ‰ä¸€ä¸ªå­¦åå«**è´Ÿå‘å…ˆè¡Œæ–­è¨€**ã€‚

```js
"xxx_love_study_1.mp4".replace(/(?!xxx)/g, "â¤ï¸");
// (?=xxx)çš„è¾“å‡º
// â¤ï¸xxx_love_study_1.mp4
// (?!xxx)çš„è¾“å‡º
// xâ¤ï¸xâ¤ï¸xâ¤ï¸_â¤ï¸lâ¤ï¸oâ¤ï¸vâ¤ï¸eâ¤ï¸_â¤ï¸sâ¤ï¸tâ¤ï¸uâ¤ï¸dâ¤ï¸yâ¤ï¸_â¤ï¸1â¤ï¸.â¤ï¸mâ¤ï¸pâ¤ï¸4â¤ï¸
// é™¤äº†(?=xxx)åŒ¹é…åˆ°æœ€å‰é¢é‚£ä¸ªä½ç½®ï¼Œå…¶ä»–ä½ç½®éƒ½æ˜¯(?!xxx)åŒ¹é…åˆ°çš„å•¦ã€‚
```

- `(?<=p)`
  > ç¬¦åˆ`p`å­æ¨¡å¼åé¢(æ³¨æ„`(?=p)`è¡¨ç¤ºçš„æ˜¯å‰é¢)çš„é‚£ä¸ªä½ç½®ã€‚æ¢å¥è¯è¯´æ˜¯ï¼Œ**æœ‰ä¸€ä¸ªä½ç½®ï¼Œå…¶å‰é¢çš„éƒ¨åˆ†éœ€è¦æ»¡è¶³`p`å­æ¨¡å¼**ã€‚

```js
"xxx_love_study_1.mp4".replace(/(?<=xxx)/g, "â¤ï¸"); //xxxâ¤ï¸_love_study_1.mp4
```

ç”»å›¾ç†è§£
![](../assets/image/regexp4.webp)

- `(?<!p)`
  > `(?<=p)`åè¿‡æ¥çš„æ„æ€ï¼Œå¯ä»¥ç†è§£ä¸º`(?<=p)`åŒ¹é…åˆ°çš„ä½ç½®ä¹‹å¤–çš„ä½ç½®éƒ½æ˜¯å±äº`(?<!p)`çš„ï¼Œ

```js
"xxx_love_study_1.mp4".replace(/(?<!xxx)/g, "â¤ï¸");

// (?<=xxx)çš„è¾“å‡º
// xxxâ¤ï¸_love_study_1.mp4
// (?<!xxx)çš„è¾“å‡º
// â¤ï¸xâ¤ï¸xâ¤ï¸x_â¤ï¸lâ¤ï¸oâ¤ï¸vâ¤ï¸eâ¤ï¸_â¤ï¸sâ¤ï¸tâ¤ï¸uâ¤ï¸dâ¤ï¸yâ¤ï¸_â¤ï¸1â¤ï¸.â¤ï¸mâ¤ï¸pâ¤ï¸4â¤ï¸
```

### example 1

> `123456789 => 123,456,789`

```js
let price = "123456789";
let priceReg = /(?!^)(?=(\d{3})+$)/g;

console.log(price.replace(priceReg, ",")); // 123,456,789
//ç¬¬ä¸€æ­¥ï¼Œå°è¯•å…ˆæŠŠåé¢ç¬¬ä¸€ä¸ªé€—å·å¼„å‡ºæ¥
price.replace(/(?=\d{3}$)/, ",");
// ç¬¬äºŒæ­¥ï¼ŒæŠŠæ‰€æœ‰çš„é€—å·éƒ½å¼„å‡ºæ¥
price.replace(/(?=(\d{3})+$)/g, ",");
// ç¬¬ä¸‰æ­¥ï¼Œå»æ‰é¦–ä½çš„é€—å·ï¼Œ
"123456789".replace(/(?!^)(?=(\d{3})+$)/g, ",");
```

### example 2

> `18379836654 => 18379836654`

```js
let mobile = "18379836654";
let mobileReg = /(?=(\d{4})+$)/g;
// æ¯å››ä¸ªæ•°å­—å‰çš„ä½ç½®ï¼Œå¹¶æŠŠè¿™ä¸ªä½ç½®æ›¿æ¢ä¸º-
console.log(mobile.replace(mobileReg, "-")); // 183-7983-6654
```

### example 3

> å°†æ‰‹æœºå·`11`ä½ä»¥å†…çš„æ•°å­—è½¬åŒ–ä¸º `3-4-4` æ ¼å¼

```js
// 123 => 123
// 1234 => 123-4
// 12345 => 123-45
// 123456 => 123-456
// 1234567 => 123-4567
// 12345678 => 123-4567-8
// 123456789 => 123-4567-89
// 12345678911 => 123-4567-8911
// ç¬¬ä¸€æ­¥, å°†ç¬¬ä¸€ä¸ª-å¼„å‡ºæ¥
"183".replace(/(?<=\d{3})/, "-"); // 183-
"1834".replace(/(?<=\d{3})/, "-"); // 183-4
// å°†ç¬¬äºŒä¸ª-å¼„å‡ºæ¥
// å°†ç¬¬ä¸€ä¸ª-å¼„å‡ºæ¥ä¹‹åï¼Œå­—ç¬¦çš„é•¿åº¦å¤šäº†ä¸€ä½ï¼ŒåŸæœ¬1234567(è¿™ä¸ªä½ç½®æ’å…¥-)8ï¼Œè¦å˜æˆå¾€åç§»ä¸€ä½
"word"
  .replace(/(?<=\d{3})\d+/, ($0) => "-" + $0)
  .replace(/(?<=[\d-]{8})\d{1,4}/, ($0) => "-" + $0);
```

 <!-- ^[a-zA-Z\d]{1,5}$ -->

### example 4

> é¢˜ç›® 4ï¼šéªŒè¯å¯†ç çš„åˆæ³•æ€§

> å¯†ç é•¿åº¦æ˜¯ 6-12 ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬ 2 ç§å­—ç¬¦

```js
// â‘  å¯†ç é•¿åº¦æ˜¯6-12ä½
// â‘¡ ç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆ
// â‘¢ å¿…é¡»è‡³å°‘åŒ…æ‹¬2ç§å­—ç¬¦

// ç¬¬ä¸€æ­¥å†™å‡ºæ¡ä»¶â‘ å’Œâ‘¡å’Œæ­£åˆ™
/^[a-zA-Z0-9]{6,12}$/.test(12)
// ç¬¬äºŒæ­¥ï¼Œå¿…é¡»åŒ…å«æŸç§å­—ç¬¦ï¼ˆæ•°å­—ã€å°å†™å­—æ¯ã€å¤§å†™å­—æ¯ï¼‰
let reg = /(?=.*\d)/
// è¿™ä¸ªæ­£åˆ™çš„æ„æ€æ˜¯ï¼ŒåŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®éœ€è¦æ»¡è¶³`ä»»æ„æ•°é‡çš„ç¬¦å·ï¼Œç´§è·Ÿç€æ˜¯ä¸ªæ•°å­—`ï¼Œæ³¨æ„å®ƒæœ€ç»ˆå¾—åˆ°çš„æ˜¯ä¸ªä½ç½®ï¼Œè€Œä¸æ˜¯æ•°å­—æˆ–è€…æ˜¯æ•°å­—å‰é¢æœ‰ä»»æ„çš„ä¸œè¥¿

console.log(reg.test('hello')) // false
console.log(reg.test('hello1')) // true
console.log(reg.test('hel2lo')) // true
// ç¬¬ä¸‰æ­¥ï¼Œå†™å‡ºå®Œæ•´çš„æ­£åˆ™
// å¿…é¡»åŒ…å«ä¸¤ç§å­—ç¬¦ï¼Œæœ‰ä¸‹é¢å››ç§æ’åˆ—ç»„åˆæ–¹å¼:
// â‘  æ•°å­—å’Œå°å†™å­—æ¯ç»„åˆ
// â‘¡ æ•°å­—å’Œå¤§å†™å­—æ¯ç»„åˆ
// â‘¢ å°å†™å­—æ¯ä¸å¤§å†™å­—æ¯ç»„åˆ
// â‘£ æ•°å­—ã€å°å†™å­—æ¯ã€å¤§å†™å­—æ¯ä¸€èµ·ç»„åˆï¼ˆä½†å…¶å®å‰é¢ä¸‰ç§å·²ç»è¦†ç›–äº†ç¬¬å››ç§äº†ï¼‰
// è¡¨ç¤ºæ¡ä»¶â‘ å’Œâ‘¡
/((?=.*\d)((?=.*[a-z])|(?=.*[A-Z])))/
// è¡¨ç¤ºæ¡ä»¶æ¡ä»¶â‘¢
/(?=.*[a-z])(?=.*[A-Z])/
// è¡¨ç¤ºæ¡ä»¶â‘ â‘¡â‘¢
/((?=.*\d)((?=.*[a-z])|(?=.*[A-Z])))|(?=.*[a-z])(?=.*[A-Z])/
// è¡¨ç¤ºé¢˜ç›®æ‰€æœ‰æ¡ä»¶
/(((?=.*\d)((?=.*[a-z])|(?=.*[A-Z])))|(?=.*[a-z])(?=.*[A-Z]))^[a-zA-Z\d]{6,12}/
```

## å­—ç¬¦ä¸²åŒ¹é…

### æ¨¡ç³ŠåŒ¹é…

#### æ¨ªå‘

ä¸€ä¸ªæ­£åˆ™å¯åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥æ˜¯å¤šç§æƒ…å†µï¼Œé€šè¿‡é‡è¯`+`ã€`*`ã€`?`ã€`{m,n}`ï¼Œå¯å®ç°æ¨ªå‘åŒ¹é…

```js
let reg = /ab{2,5}c/g;
let str = "abcÂ abbcÂ abbbcÂ abbbbcÂ abbbbbcÂ abbbbbbc";

str.match(reg); //Â [Â 'abbc',Â 'abbbc',Â 'abbbbc',Â 'abbbbbc'Â ]
```

#### çºµå‘

ä¸€ä¸ªæ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå…·ä½“åˆ°æŸä¸€ä½å­—ç¬¦æ—¶ï¼Œå¯ä»¥ä¸æ˜¯æŸä¸ªç¡®å®šçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥æœ‰å¤šç§å¯èƒ½ï¼Œå®ç°æ–¹å¼æ˜¯å­—ç¬¦ç»„( å…¶å®å¤šé€‰åˆ†æ”¯`|`ä¹Ÿå¯ä»¥å®ç° )

```js
let reg = /a[123]b/g;
let str = "a0b a1b a2b a3b a4b";

str.match(reg); // [ 'a1b', 'a2b', 'a3b' ]
```

### å­—ç¬¦ç»„

#### èŒƒå›´è¡¨ç¤ºæ³•

[1-6a-zA-Z]

#### æ’é™¤å­—ç¬¦ç»„

æŸä½å­—ç¬¦å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯å°±æ˜¯ä¸èƒ½æ˜¯`xxx`, ä½¿ç”¨`^`ç¬¦å·

#### å¸¸è§ç®€å†™å½¢å¼

```js
/\d/ // æ•°å­—
/\D/ // éæ•°å­—
/\w/ // [0-9a-zA-Z_]
/\W/ // [^0-9a-zA-Z_]
/\s/ // [\t\v\n\r\f]
/\S/ // [^\t\v\n\r\f]
/./
```

### é‡è¯

#### é‡è¯ & ç®€å†™

```js
/{m,}/ // è‡³å°‘å‡ºç°mæ¬¡
/{m}/ // å‡ºç°mæ¬¡
/?/ // å‡ºç°0æ¬¡æˆ–è€…1æ¬¡ï¼Œç­‰ä»·äº{0,1}
/+/ // è‡³å°‘å‡ºç°1æ¬¡,ç­‰ä»·äº{1,}
/.*/ // å‡ºç°0æ¬¡ä»¥ä¸Š,ç­‰ä»·äº{0,}
```

#### è´ªå©ªåŒ¹é… VS æƒ°æ€§åŒ¹é… â­

> **æ­£åˆ™æœ¬èº«æ˜¯è´ªå©ªçš„**ï¼Œä¼šå°½å¯èƒ½çš„å¤šåŒ¹é…ç¬¦åˆæ¨¡å¼çš„å­—ç¬¦

```js
let regex = /\d{2,5}/g;
let string = "123Â 1234Â 12345Â 123456";
//Â è´ªå©ªåŒ¹é…
//Â string.match(regex)Â //Â [Â 123,Â 1234,Â 12345,Â 12345Â ]

//Â æƒ°æ€§åŒ¹é…
let regex2 = /\d{2,5}?/g;
//Â string.match(regex)Â //Â [Â 12,Â 12,Â 34,Â 12,Â 34,Â 12,Â 34,Â 56Â Â ]
```

#### å¤šé€‰åˆ†æ”¯

ä¸€ä¸ªæ¨¡å¼å¯ä»¥å®ç°æ¨ªå‘å’Œçºµå‘çš„æ¨¡ç³ŠåŒ¹é…ï¼Œè€Œå¤šé€‰åˆ†æ”¯å¯ä»¥æ”¯æŒå¤šä¸ªå­æ¨¡å¼ä»»é€‰å…¶ä¸€ï¼Œå½¢å¼æ˜¯(`p1|p2|p3`)

```js
let regex = /good|nice/g;
let string = "goodÂ idea,Â niceÂ try.";

string.match(regex); //Â [Â 'good',Â 'nice'Â ]

//Â æ³¨æ„ï¼Œç”¨/good|goodbye/å»åŒ¹é…'goodbye'Â åŒ¹é…åˆ°çš„æ˜¯good
//Â å› ä¸ºåˆ†æ”¯ç»“æ„æ˜¯æƒ°æ€§çš„ï¼Œå‰é¢çš„åŒ¹é…ä¸Šäº†ï¼Œåé¢çš„å°±ä¸å†å°è¯•äº†
```

## æ‹¬å·çš„ä½œç”¨

æ‹¬å·çš„ä½œç”¨æ˜¯æä¾›äº†**åˆ†ç»„**(æ‹¬å·å†…çš„æ­£åˆ™æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œå³**æä¾›å­è¡¨è¾¾å¼**)ï¼Œä¾¿äºæˆ‘ä»¬å¼•ç”¨å®ƒ

### åˆ†ç»„å¼•ç”¨

#### æå–æ•°æ®

```js
let reg = /(\d{4})-(\d{2})-(\d{2})/;
console.log("2021-08-14".match(reg));
//Â Â ["2021-08-14",Â "2021",Â "08",Â "14",Â index:Â 0,Â input:Â "2021-08-14",Â groups:Â undefined]

//Â ç¬¬äºŒç§è§£æ³•,é€šè¿‡å…¨å±€çš„$1...$9è¯»å–Â å¼•ç”¨çš„æ‹¬å·æ•°æ®, æœ€å¤§$9
let reg = /(\d{4})-(\d{2})-(\d{2})/;
let string = "2021-08-14";
reg.test(string);
console.log(RegExp.$1); //Â 2021
console.log(RegExp.$2); //Â 08
console.log(RegExp.$3); //Â 14
```

#### æ•°æ®æ›¿æ¢

```js
/*
å°†ä»¥ä¸‹æ ¼å¼æ›¿æ¢ä¸ºmm/dd/yyy
2021-08-14
*/
//Â ç¬¬ä¸€ç§è§£æ³•
let reg = /(\d{4})-(\d{2})-(\d{2})/;
let string = "2021-08-14";
//Â ç¬¬ä¸€ç§å†™æ³•
let result1 = string.replace(reg, "$2/$3/$1");
console.log(result1); //Â 08/14/2021
//Â ç¬¬äºŒç§å†™æ³•
let result2 = string.replace(reg, () => {
  return RegExp.$2 + "/" + RegExp.$3 + "/" + RegExp.$1;
});
console.log(result2); //Â 08/14/2021
//Â ç¬¬ä¸‰ç§å†™æ³•
let result3 = string.replace(reg, ($0, $1, $2, $3) => {
  return $2 + "/" + $3 + "/" + $1;
});
console.log(result3); //Â 08/14/2021
```

### åå‘å¼•ç”¨

> FIXME ?

### éæ•è·æ€§æ‹¬å·

> FIXME ?

éæ•è·æ€§æ‹¬å·ï¼ˆ`?:p`ï¼‰

```js
//Â éæ•è·å‹å¼•ç”¨
let reg = /(?:ab)+/g;
console.log("ababaÂ abbbÂ ababab".match(reg)); //Â ["abab",Â "ab",Â "ababab"]
//Â æ³¨æ„è¿™é‡Œï¼Œå› ä¸ºæ˜¯éæ•è·å‹åˆ†ç»„ï¼Œæ‰€ä»¥ä½¿ç”¨matchæ–¹æ³•æ—¶ï¼Œä¸ä¼šå‡ºç°åœ¨æ•°ç»„çš„1ä½ç½®äº†
let reg = /(?:ab)+/;
console.log("ababaÂ abbbÂ ababab".match(reg)); //Â ["abab",Â index:Â 0,Â input:Â "ababaÂ abbbÂ ababab",Â groups:Â undefined]
let reg = /(ab)+/;
console.log("ababaÂ abbbÂ ababab".match(reg)); //Â ["abab",Â "ab",Â index:Â 0,Â input:Â "ababaÂ abbbÂ ababab",Â groups:Â undefined]
```

## Reference

- [å°±å› ä¸ºè¿™ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œæˆ‘å½»åº•å­¦åºŸäº†â€æ­£åˆ™è¡¨è¾¾å¼â€œ](https://juejin.cn/post/7021672733213720613#heading-42)
- [JS æ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰](https://juejin.cn/post/6844903487155732494)
