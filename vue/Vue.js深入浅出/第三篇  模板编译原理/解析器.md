# 解析器

## 解析器的作用

将模板生成AST，多个节点通过parent、children属性构建一个AST节点树

## 解析器的内部运行原理

内置了大量钩子函数

```JS
parseHtml(html, {
    /**
     * unary 是否自闭合标签
     */
    start(tag, atts, unary) {
        //标签开始时的钩子函数
    },
    end() {
        // 标签结束时
    },
    chars(text) {
        // 解析到文本时，触发该函数
    },
    comment(text) {
        // 解析到注释时，触发该函数
    }
})
```

## HTML解析器

### 运行原理

> 一小段小段地截取模板字符串，每截取一小段字符串，就会根据截取出来的字符串类型触发不同的钩子函数，知道模板字符串截空停止运行。

> TODO 不用有限状态机？

> 带变量类型的文本，需要使用文本解析器进行二次处理

最常见的标签：开始标签、结束标签、文本和注释

### 截取开始标签
