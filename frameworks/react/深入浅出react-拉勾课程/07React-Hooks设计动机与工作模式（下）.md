# React-Hooks 设计动机与工作模式（下）

## useState()：为函数组件引入状态

- `useState`返回的是一个数组，数组的第一个元素对应的是我们想要的那个`state`变量，第二个元素对应的是能够修改这个变量的`API`
- 状态更新后会触发渲染层面的更新
- 调用`React.useState`的时候，实际上是给这个组件关联了一个状态——注意，是“一个状态”而不是“一批状态”
  - NOTE ? 一个对象可以吗？判断值变化
-

## useEffect()：允许函数组件执行副作用操作

> 函数执行完后再执行的脚本

- `useEffect`可以接收两个参数，分别是回调函数与依赖数组
- 每一次渲染后都执行的副作用：传入回调函数，不传依赖数组: `useEffect(callback)`
- 仅在挂载阶段执行一次的副作用：传入回调函数，且这个函数的返回值不是一个函数，同时传入一个空数组: `useEffect(callback, [])`
- 仅在挂载阶段和卸载阶段执行的副作用：传入回调函数，且这个函数的返回值是一个函数，同时传入一个空数组:
  ```js
  useEffect(() => {
    // 这里是 A 的业务逻辑
    // 返回一个函数记为 B
    return () => {}
  }, [])
  ```
