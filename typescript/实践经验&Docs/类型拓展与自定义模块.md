- 拓展全局对象

  ```ts
  export {} //处理为模块

  declare global {
    interface Window {
      myProperty: string
    }
  }
  ```

- 拓展 Vue 对象

  ```ts
  import axios from 'axios'
  import { message } from 'ant-design-vue'

  // NOTE 模块扩充必须是一个.ts文件或者一个以全局项目为范围的`.d.ts`文件，无论哪一种，必须确保在tsconfig中被引入。如果是库或插件，则必须添加在package.json的types中。
  // NOTE 模块扩充必须添加在typescript模块中，也就是说，文件需要包含至少一个顶级的import或export。如果扩充在模块之外，它将**覆盖原始类型，而不是扩充**。

  declare module 'vue' {
    interface ComponentCustomProperties {
      $http: typeof axios
      $translate: (key: string) => string
      $message: typeof message
      // more property
    }
  }
  // 定义`vue`文件模块

  declare module '*.vue' {
    import type { DefineComponent } from 'vue'
    const component: DefineComponent<{}, {}, any>
    export default component
  }
  ```

- 处理资源文件
  > copy from vite client.d.ts
  > [vite 中处理资源文件的方式](../types-tools/asset.d.ts)
  > 或者
  ```ts
  declare module 'virtual:*' {
    const result: any
    export default result
  }
  // 使用
  import 'virtual:windi-base.css'
  import 'virtual:windi-components.css'
  import 'virtual:windi-utilities.css'
  ```
- 拓展第三方模块

  ```ts
  // declare ? 命名空间
  // 定义函数
  // 定义构造函数
  ```

  Declaration Reference

  Objects with Properties

  ```js
  let myLib = {}
  let result = myLib.makeGreeting('hello, world')
  console.log('The computed greeting is:' + result)
  let count = myLib.numberOfGreetings
  ```

  ```ts
  declare namespace myLib {
    function makeGreeting(s: string): string
    let numberOfGreetings: number
  }
  ```

  Overloaded Functions

  ```ts
  let x: Widget = getWidget(43)
  let arr: Widget[] = getWidget('all of them')
  ```

  ```ts
  declare function getWidget(n: number): Widget
  declare function getWidget(s: string): Widget[]
  ```

  Classes

  ```ts
  const myGreeter = new Greeter('hello, world')
  myGreeter.greeting = 'howdy'
  myGreeter.showGreeting()
  class SpecialGreeter extends Greeter {
    constructor() {
      super('Very special greetings')
    }
  }
  ```

  ```ts
  declare class Greeter {
    constructor(greeting: string)
    greeting: string
    showGreeting(): void
  }
  ```

- 拓展 node 插件

## resources

- https://www.typescriptlang.org/docs/handbook/declaration-files/library-structures.html
- https://www.typescriptlang.org/docs/handbook/declaration-files/by-example.html
